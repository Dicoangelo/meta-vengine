<p align="center">
  <img src="https://capsule-render.vercel.app/api?type=rect&color=0:0d1117,100:1a1a2e&height=100&section=header&text=ARCHITECTURE&fontSize=40&fontColor=00d9ff&fontAlignY=50" />
</p>

<p align="center">
  <strong>System Topology Â· Data Flow Â· Integration Points</strong>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Meta--Vengine-Architecture-00d9ff?style=for-the-badge&labelColor=0d1117" alt="Architecture" />
  <img src="https://img.shields.io/badge/D--Ecosystem-Metaventions_AI-9945ff?style=for-the-badge&labelColor=0d1117" alt="D-Ecosystem" />
</p>

---

## System Topology

```
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚         HUMAN OPERATOR              â”‚
                              â”‚     (Sovereign Terminal User)       â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                                 â”‚
â”‚                           INTERACTION LAYER                                     â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Claude    â”‚  â”‚   Shell     â”‚  â”‚  Prefetch   â”‚  â”‚   Pattern Detector  â”‚   â”‚
â”‚  â”‚   Code CLI  â”‚  â”‚   Aliases   â”‚  â”‚   Context   â”‚  â”‚   (Proactive VA)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                â”‚                â”‚                     â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚                â”‚                     â”‚
          â–¼                â–¼                â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                                 â”‚
â”‚                           KERNEL LAYER                                          â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚   DQ Scorer     â”‚  â”‚   Complexity    â”‚  â”‚   Identity      â”‚                 â”‚
â”‚  â”‚   (ACE Framework)â”‚  â”‚   Analyzer     â”‚  â”‚   Manager       â”‚                 â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚                 â”‚
â”‚  â”‚  validity: 0.4  â”‚  â”‚  signals â†’      â”‚  â”‚  expertise â†’    â”‚                 â”‚
â”‚  â”‚  specific: 0.3  â”‚  â”‚  complexity     â”‚  â”‚  preferences    â”‚                 â”‚
â”‚  â”‚  correct:  0.3  â”‚  â”‚  score          â”‚  â”‚  achievements   â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚           â”‚                    â”‚                    â”‚                          â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                â”‚                                               â”‚
â”‚                                â–¼                                               â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚                    â”‚   TELEMETRY BUS     â”‚                                     â”‚
â”‚                    â”‚                     â”‚                                     â”‚
â”‚                    â”‚  Events â†’ JSONL     â”‚                                     â”‚
â”‚                    â”‚  Scores â†’ JSONL     â”‚                                     â”‚
â”‚                    â”‚  Patterns â†’ JSON    â”‚                                     â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                               â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                                 â”‚
â”‚                           DATA LAYER                                            â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         ~/.claude/                                        â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  stats-cache.json â”€â”€â”€â”€â”€â”€â”€â”€ Session counts, token usage, cache metrics    â”‚  â”‚
â”‚  â”‚  kernel/                                                                  â”‚  â”‚
â”‚  â”‚    â”œâ”€â”€ dq-scores.jsonl â”€â”€ Decision quality history                       â”‚  â”‚
â”‚  â”‚    â”œâ”€â”€ identity.json â”€â”€â”€â”€ Expertise, preferences, achievements           â”‚  â”‚
â”‚  â”‚    â”œâ”€â”€ detected-patterns.json â”€â”€ Current session patterns                â”‚  â”‚
â”‚  â”‚    â”œâ”€â”€ coevo-config.json â”€â”€ Co-evolution configuration                   â”‚  â”‚
â”‚  â”‚    â”œâ”€â”€ modifications.jsonl â”€â”€ Modification history                       â”‚  â”‚
â”‚  â”‚    â””â”€â”€ effectiveness.jsonl â”€â”€ Before/after metrics                       â”‚  â”‚
â”‚  â”‚  data/                                                                    â”‚  â”‚
â”‚  â”‚    â””â”€â”€ activity-events.jsonl â”€â”€ Query logs with timestamps               â”‚  â”‚
â”‚  â”‚  claude-md-history/                                                       â”‚  â”‚
â”‚  â”‚    â””â”€â”€ .git/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Version control for CLAUDE.md                  â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         ~/.agent-core/                                    â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  memory/learnings.md â”€â”€â”€â”€ Extracted research learnings                   â”‚  â”‚
â”‚  â”‚  projects.json â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Project registry with lineage                  â”‚  â”‚
â”‚  â”‚  sessions/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Archived research sessions                     â”‚  â”‚
â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                                 â”‚
â”‚                           CO-EVOLUTION LAYER                                    â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                          â”‚   â”‚
â”‚  â”‚                        META-ANALYZER                                     â”‚   â”‚
â”‚  â”‚                     (meta-analyzer.py)                                   â”‚   â”‚
â”‚  â”‚                                                                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
â”‚  â”‚  â”‚ Aggregate  â”‚  â”‚  Analyze   â”‚  â”‚  Generate  â”‚  â”‚  Evaluate  â”‚        â”‚   â”‚
â”‚  â”‚  â”‚ Telemetry  â”‚â”€â–¶â”‚  Patterns  â”‚â”€â–¶â”‚   Mods     â”‚â”€â–¶â”‚  Effect    â”‚        â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
â”‚  â”‚        â”‚                                               â”‚                â”‚   â”‚
â”‚  â”‚        â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚                â”‚   â”‚
â”‚  â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   Apply    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚   â”‚
â”‚  â”‚                       â”‚   (Human   â”‚                                    â”‚   â”‚
â”‚  â”‚                       â”‚   Review)  â”‚                                    â”‚   â”‚
â”‚  â”‚                       â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                    â”‚   â”‚
â”‚  â”‚                             â”‚                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                               â”‚
â”‚                                â–¼                                               â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚                    â”‚     CLAUDE.md       â”‚                                     â”‚
â”‚                    â”‚   (Instructions)    â”‚                                     â”‚
â”‚                    â”‚                     â”‚                                     â”‚
â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                     â”‚
â”‚                    â”‚  â”‚ Learned       â”‚  â”‚                                     â”‚
â”‚                    â”‚  â”‚ Patterns      â”‚  â”‚  â—€â”€â”€ Auto-generated section         â”‚
â”‚                    â”‚  â”‚ Section       â”‚  â”‚                                     â”‚
â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                     â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                       â”‚
                    â–¼                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   NEXT      â”‚         â”‚  FEEDBACK   â”‚
            â”‚   SESSION   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   LOOP      â”‚
            â”‚   STARTS    â”‚         â”‚   CLOSES    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Specifications

### 1. Meta-Analyzer (`meta-analyzer.py`)

The core engine of the co-evolution system.

**Responsibilities:**
- Aggregate telemetry from 6+ data sources
- Analyze patterns with confidence scoring
- Generate modification proposals
- Apply modifications with git-tracked rollback
- Evaluate effectiveness with statistical significance

**Data Flow:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     META-ANALYZER PIPELINE                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   INPUT                    PROCESS                    OUTPUT     â”‚
â”‚                                                                  â”‚
â”‚   stats-cache.json    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚   dq-scores.jsonl â”€â”€â”€â–¶â”‚ aggregate_      â”‚                       â”‚
â”‚   activity-events     â”‚ telemetry()     â”‚â”€â”€â–¶ Unified View       â”‚
â”‚   patterns.json       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚   identity.json                â”‚                                â”‚
â”‚   learnings.md                 â–¼                                â”‚
â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                       â”‚ analyze_        â”‚                       â”‚
â”‚                       â”‚ patterns()      â”‚â”€â”€â–¶ Insights +         â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    Recommendations    â”‚
â”‚                                â”‚                                â”‚
â”‚                                â–¼                                â”‚
â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                       â”‚ generate_       â”‚                       â”‚
â”‚                       â”‚ modifications() â”‚â”€â”€â–¶ Proposals          â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                â”‚                                â”‚
â”‚                                â–¼                                â”‚
â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                       â”‚ apply_          â”‚                       â”‚
â”‚   Human Approval â”€â”€â”€â”€â–¶â”‚ modification()  â”‚â”€â”€â–¶ CLAUDE.md Update   â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                â”‚                                â”‚
â”‚                                â–¼                                â”‚
â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                       â”‚ evaluate_       â”‚                       â”‚
â”‚                       â”‚ effectiveness() â”‚â”€â”€â–¶ Before/After       â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    Comparison         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Configuration Schema:**

```json
{
  "version": "1.0.0",
  "enabled": true,
  "autoApply": false,
  "minConfidence": 0.7,
  "maxModificationsPerDay": 3,
  "rollbackOnEfficiencyDrop": 0.5,
  "trackingWindow": {
    "analysis": 7,
    "effectiveness": 14,
    "selfReflection": 30
  },
  "weights": {
    "usagePatterns": 0.3,
    "dqScores": 0.25,
    "cacheEfficiency": 0.2,
    "sessionDiversity": 0.15,
    "feedbackCorrelation": 0.1
  },
  "evolution": {
    "selfReferential": true,
    "analyzeOwnModifications": true,
    "metaMetricsEnabled": true,
    "recursionDepth": 2
  }
}
```

---

### 2. Pattern Detector (`pattern-detector.js`)

Implements ProactiveVA for real-time session pattern detection.

**Pattern Taxonomy:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SESSION PATTERNS                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  DEBUGGING         RESEARCH          REFACTORING                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚
â”‚  error, fix        arxiv, paper      refactor, clean            â”‚
â”‚  bug, debug        study, survey     extract, rename            â”‚
â”‚  broken, why       methodology       restructure                â”‚
â”‚                                                                  â”‚
â”‚  TESTING           ARCHITECTURE      PERFORMANCE                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚
â”‚  test, spec        design, system    optimize, slow             â”‚
â”‚  coverage          component, api    profile, memory            â”‚
â”‚  assert, mock      schema, pattern   bottleneck                 â”‚
â”‚                                                                  â”‚
â”‚  DEPLOYMENT        LEARNING                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚  deploy, release   learn, explain                               â”‚
â”‚  production, CI    tutorial, help                               â”‚
â”‚  docker, k8s       documentation                                â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Detection Algorithm:**

```
1. Load recent activity (configurable window, default 30 min)
2. For each pattern:
   a. Match query text against signal keywords
   b. Count matches across activity window
   c. Check threshold (minMatches, minEvents)
   d. Calculate confidence = matches / (threshold * 2)
3. Sort patterns by confidence
4. Return top patterns with suggestions
5. Notify co-evolution system (optional)
```

**Co-Evolution Integration:**

```javascript
// Pattern detection feeds meta-analyzer
function notifyCoEvolution(detection) {
  const event = {
    type: 'pattern_detected',
    timestamp: Date.now(),
    pattern: detection.patterns[0]?.id,
    confidence: detection.patterns[0]?.confidence,
    activityCount: detection.activityCount
  };
  appendToActivityLog(event);
}

// Suggestions enhanced by effectiveness history
function applyLearnedPatterns(suggestions, pattern) {
  const effectiveness = loadEffectivenessHistory();
  return suggestions.map(s => ({
    ...s,
    learnedWeight: calculateWeight(s, pattern, effectiveness),
    label: wasSuccessful(s) ? `${s.label} (proven)` : s.label
  }));
}
```

---

### 3. Context Prefetcher (`prefetch.py`)

Proactive context loading with pattern prediction.

**Prediction Model:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PATTERN PREDICTION                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  INPUT SIGNALS                         WEIGHTS                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚                                                                  â”‚
â”‚  1. Current Hour (temporal)            0.30                      â”‚
â”‚     06-10 â†’ research, learning                                  â”‚
â”‚     10-12 â†’ architecture, debugging                             â”‚
â”‚     14-17 â†’ architecture, refactoring                           â”‚
â”‚     17-20 â†’ debugging, testing, deployment                      â”‚
â”‚     20-24 â†’ research, learning                                  â”‚
â”‚                                                                  â”‚
â”‚  2. Recently Detected Pattern          0.50                      â”‚
â”‚     (from pattern-detector.js)                                  â”‚
â”‚                                                                  â”‚
â”‚  3. Historical Distribution            0.20                      â”‚
â”‚     (from activity-events.jsonl)                                â”‚
â”‚                                                                  â”‚
â”‚  OUTPUT: Pattern with confidence â‰¥ 0.30                         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Pattern-Specific Resources:**

```python
PATTERN_RESEARCH_PAPERS = {
    "debugging": {
        "papers": ["2512.20845", "2506.08410"],  # MAR, reflexion
        "focus": ["error patterns", "root cause analysis"],
        "tools": ["/debug", "git diff"]
    },
    "research": {
        "papers": ["2511.16931", "2512.12686"],  # OmniScientist, Memoria
        "focus": ["papers", "synthesis", "thesis gaps"],
        "tools": ["log_url.py", "archive_session.py"]
    },
    "architecture": {
        "papers": ["2507.14241", "2501.12689"],  # Promptomatix, IC-Cache
        "focus": ["system design", "trade-offs"],
        "tools": ["/arch", "prefetch --papers"]
    }
    # ... etc
}
```

---

### 4. DQ Scorer (`dq-scorer.js`)

Decision quality framework for intelligent model routing.

**Scoring Components:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DQ SCORING FORMULA                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   DQ = (Validity Ã— 0.4) + (Specificity Ã— 0.3) + (Correctness Ã— 0.3)
â”‚                                                                  â”‚
â”‚   VALIDITY (0.4)                                                â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                â”‚
â”‚   Does the model match the task complexity?                     â”‚
â”‚                                                                  â”‚
â”‚   Complexity   Ideal Model                                      â”‚
â”‚   0.00 - 0.25  haiku                                           â”‚
â”‚   0.25 - 0.50  sonnet                                          â”‚
â”‚   0.50 - 0.75  sonnet                                          â”‚
â”‚   0.75 - 1.00  opus                                            â”‚
â”‚                                                                  â”‚
â”‚   SPECIFICITY (0.3)                                             â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â”‚
â”‚   How precise is the model selection?                           â”‚
â”‚   1.0 = exact match to ideal                                   â”‚
â”‚   0.6 = adjacent model (one step away)                         â”‚
â”‚   0.2 = distant model (two steps away)                         â”‚
â”‚                                                                  â”‚
â”‚   CORRECTNESS (0.3)                                             â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â”‚
â”‚   Historical accuracy for similar queries                       â”‚
â”‚   Based on feedback (ai-good / ai-bad)                         â”‚
â”‚   Falls back to average DQ if no feedback                      â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Schemas

### Stats Cache (`stats-cache.json`)

```typescript
interface StatsCache {
  version: number;
  lastComputedDate: string;
  dailyActivity: Array<{
    date: string;
    messageCount: number;
    sessionCount: number;
    toolCallCount: number;
  }>;
  dailyModelTokens: Array<{
    date: string;
    tokensByModel: Record<string, number>;
  }>;
  modelUsage: Record<string, {
    inputTokens: number;
    outputTokens: number;
    cacheReadInputTokens: number;
    cacheCreationInputTokens: number;
  }>;
  totalSessions: number;
  totalMessages: number;
  hourCounts: Record<string, number>;
}
```

### Modification Log (`modifications.jsonl`)

```typescript
interface Modification {
  id: string;                    // mod-YYYYMMDD-NNN
  createdAt: string;             // ISO timestamp
  type: 'behavior' | 'context' | 'calibration' | 'efficiency' | 'claude_md_update';
  action: string;                // Human-readable description
  impact: string;                // Expected outcome
  confidence: number;            // 0.0 - 1.0
  status: 'proposed' | 'applied' | 'rolled_back';
  target: string;                // File to modify
  changes: {
    file: string;
    type: 'section_update' | 'weight_adjustment' | 'add_instruction';
    content: string;
  };
}
```

### Effectiveness Log (`effectiveness.jsonl`)

```typescript
interface EffectivenessEvaluation {
  mod_id: string;
  metric: string;
  before: number;
  after: number;
  improvement: number;
  sessionsCompared: number;
  statisticallySignificant: boolean;
  evaluatedAt: string;
}
```

---

## Security Model

### Principle: Sovereign by Default

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SECURITY BOUNDARIES                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  LOCAL ONLY                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                      â”‚
â”‚  â€¢ All data stored in ~/.claude and ~/.agent-core               â”‚
â”‚  â€¢ No external API calls for co-evolution                       â”‚
â”‚  â€¢ No telemetry sent to cloud services                          â”‚
â”‚  â€¢ Git history local to machine                                 â”‚
â”‚                                                                  â”‚
â”‚  HUMAN IN THE LOOP                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                               â”‚
â”‚  â€¢ autoApply defaults to false                                  â”‚
â”‚  â€¢ All modifications require explicit approval                  â”‚
â”‚  â€¢ Dry-run available for preview                                â”‚
â”‚  â€¢ Rollback always possible                                     â”‚
â”‚                                                                  â”‚
â”‚  BOUNDED RECURSION                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                               â”‚
â”‚  â€¢ recursionDepth capped at 2                                   â”‚
â”‚  â€¢ Self-modification limited to instruction files               â”‚
â”‚  â€¢ Cannot modify its own core logic                             â”‚
â”‚                                                                  â”‚
â”‚  AUDIT TRAIL                                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                     â”‚
â”‚  â€¢ All modifications logged with timestamps                     â”‚
â”‚  â€¢ Before/after metrics captured                                â”‚
â”‚  â€¢ Git history for CLAUDE.md changes                            â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Performance Characteristics

| Operation | Complexity | Typical Duration |
|-----------|------------|------------------|
| Aggregate telemetry | O(n) | 50-200ms |
| Pattern detection | O(n Ã— p) | 10-50ms |
| Modification generation | O(r) | 100-500ms |
| Effectiveness evaluation | O(s) | 20-100ms |

Where:
- n = number of events in time window
- p = number of patterns (8)
- r = number of recommendations
- s = number of sessions for comparison

---

## Extension Points

### Adding New Patterns

```javascript
// In pattern-detector.js
const PATTERNS = {
  // Add new pattern
  security: {
    name: 'Security Session',
    icon: 'ğŸ”’',
    signals: ['vulnerability', 'CVE', 'security', 'auth', 'permission'],
    minMatches: 2,
    windowMinutes: 20,
    suggestions: [
      { type: 'command', value: 'npm audit', label: 'Run audit' }
    ]
  }
};
```

### Adding New Metrics

```python
# In meta-analyzer.py
def aggregate_telemetry(days: int = 7) -> Dict[str, Any]:
    # Add new metric
    custom_metric = calculate_custom_metric()

    return {
        # ... existing metrics
        "customMetrics": {
            "yourMetric": custom_metric
        }
    }
```

### Custom Modification Types

```python
# In meta-analyzer.py
def _generate_changes(recommendation, telemetry):
    if recommendation['type'] == 'custom_action':
        return {
            "file": "~/.claude/custom/config.json",
            "type": "custom_modification",
            "content": generate_custom_content()
        }
```

---

<div align="center">

**Metaventions AI**

*Architecture for Sovereign Intelligence*

</div>
